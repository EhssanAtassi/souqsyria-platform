<!-- SouqSyria Quick Access Row Component -->
<!-- Row 4: Compact category carousel — pro e-commerce style (Amazon/Noon pattern) -->
<!-- Circular thumbnails, single-line labels, minimal height -->

<div
  class="sq-quick-access-row bg-white border-b border-gray-100 py-2 hidden lg:block"
  [class.rtl]="config.rtl"
  [class.cards-mode]="displayMode === 'cards'"
  [attr.dir]="config.rtl ? 'rtl' : 'ltr'"
  role="navigation"
  [attr.aria-label]="config.language === 'ar' ? 'وصول سريع' : 'Quick Access'"
>
  <div class="sq-container max-w-[1400px] mx-auto px-6 relative">

    <!-- ═══════════ ICONS MODE ═══════════ -->
    <ng-container *ngIf="displayMode === 'icons'">
      <div
        class="sq-quick-access-scroll flex items-start gap-5 overflow-x-auto scroll-hidden pb-2"
        role="list"
      >
        <a
          *ngFor="let item of getItems(); trackBy: trackByItem"
          [routerLink]="item.url"
          class="sq-quick-access-item flex flex-col items-center gap-2.5 group flex-shrink-0 w-[76px] cursor-pointer"
          role="listitem"
          (click)="onItemClick(item.id)"
          [attr.aria-label]="getItemLabel(item) + ' ' + getItemSubtitle(item)"
        >
          <!-- Icon Container -->
          <div
            class="sq-icon-container w-[60px] h-[60px] rounded-2xl flex items-center justify-center transition-all duration-200 group-hover:-translate-y-0.5"
            [ngClass]="getIconContainerClasses(item)"
            [class.group-hover:border-primary-300]="!item.isSpecial"
            [class.group-hover:shadow-md]="!item.isSpecial"
            [class.group-hover:shadow-lg]="item.isSpecial"
          >
            <mat-icon
              class="text-[28px]"
              [ngClass]="item.iconColor"
              aria-hidden="true"
            >
              {{ item.icon }}
            </mat-icon>
          </div>

          <!-- Label -->
          <span
            class="sq-item-label text-[11px] font-medium text-center leading-tight transition-colors duration-200"
            [class.text-primary-500]="item.isSpecial"
            [class.text-gray-600]="!item.isSpecial"
            [class.group-hover:text-primary-500]="!item.isSpecial"
          >
            {{ getItemLabel(item) }}<br *ngIf="getItemSubtitle(item)">{{ getItemSubtitle(item) }}
          </span>
        </a>
      </div>
    </ng-container>

    <!-- ═══════════ CARDS MODE (compact circular thumbnails) ═══════════ -->
    <ng-container *ngIf="displayMode === 'cards'">

      <!-- Scroll Left Arrow -->
      <button
        class="sq-scroll-btn sq-scroll-btn--left"
        (click)="scrollCarousel(-1)"
        [attr.aria-label]="config.language === 'ar' ? 'تمرير للخلف' : 'Scroll left'"
      >
        <mat-icon class="text-[16px] text-gray-400" aria-hidden="true">chevron_left</mat-icon>
      </button>

      <!-- Compact Cards Container -->
      <div
        #carouselContainer
        class="sq-cards-scroll flex items-center gap-2 overflow-x-auto scroll-hidden px-8"
      >
        <!-- Compact Category Card -->
        <a
          *ngFor="let card of getPromoCards(); trackBy: trackByCard"
          [routerLink]="card.url"
          class="sq-compact-card group flex flex-col items-center flex-shrink-0 w-[88px] py-1.5 cursor-pointer"
          (click)="onItemClick(card.id)"
          [attr.aria-label]="getCardCategory(card)"
        >
          <!-- Circular Thumbnail -->
          <div class="sq-thumb-ring">
            <div class="sq-thumb">
              <img
                [src]="card.image"
                [alt]="getCardCategory(card)"
                class="w-full h-full object-cover"
                loading="lazy"
                (error)="onImageError($event)"
              >
            </div>
          </div>

          <!-- Category Label (single line) -->
          <span class="sq-card-label">
            {{ getCardCategory(card) }}
          </span>
        </a>
      </div>

      <!-- Scroll Right Arrow -->
      <button
        class="sq-scroll-btn sq-scroll-btn--right"
        (click)="scrollCarousel(1)"
        [attr.aria-label]="config.language === 'ar' ? 'تمرير للأمام' : 'Scroll right'"
      >
        <mat-icon class="text-[16px] text-gray-400" aria-hidden="true">chevron_right</mat-icon>
      </button>

    </ng-container>

  </div>
</div>
