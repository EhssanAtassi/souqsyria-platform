/**
 * Fullwidth Mega Menu Styles
 * @description Styles for the fullwidth mega menu (900-1100px) with column layout
 * Matches the prototype header-complete.html fullwidth pattern
 */

// Shadow token matching prototype
$shadow-menu: 0 4px 20px rgba(0, 0, 0, 0.15), 0 0 1px rgba(0, 0, 0, 0.1);

:host {
  display: block;
  // NOTE: No position here. The parent's .sq-mega-menu-container class
  // applies position: absolute to this host element.
}

// Main container
.sq-mega-menu-fullwidth {
  box-shadow: $shadow-menu;

  // Entry animation
  animation: fullwidthFadeIn 0.2s ease-out;
}

// Featured tile hover effects
.sq-featured-tile {
  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  }

  &:focus-visible {
    outline: 2px solid theme('colors.primary.500');
    outline-offset: 2px;
    border-radius: 12px;
  }
}

// Column link focus states
a[role="menuitem"] {
  &:focus-visible {
    outline: 2px solid theme('colors.primary.500');
    outline-offset: 2px;
    border-radius: 4px;
  }
}

// RTL icon flip helper
.flip-rtl {
  transform: scaleX(-1);
}

// Animations
@keyframes fullwidthFadeIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// Reduced motion support
@media (prefers-reduced-motion: reduce) {
  .sq-mega-menu-fullwidth {
    animation: none;
  }

  .sq-featured-tile {
    transition: none;

    &:hover {
      transform: none;
    }
  }
}

// High contrast mode
@media (prefers-contrast: high) {
  .sq-mega-menu-fullwidth {
    border-width: 2px;
    border-color: theme('colors.gray.900');
  }

  a[role="menuitem"] {
    &:hover,
    &:focus {
      text-decoration: underline;
    }
  }
}

// Responsive - ensure menu doesn't overflow viewport
@media (max-width: 1200px) {
  .sq-mega-menu-fullwidth {
    width: calc(100vw - 48px) !important;
    max-width: 1100px;
  }
}
