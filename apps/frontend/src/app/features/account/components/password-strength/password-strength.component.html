<div class="password-strength" [dir]="'auto'">
  <!-- Strength Bar -->
  <div class="strength-bar">
    <div class="strength-label">
      <span class="label-text">{{ 'account.security.strength.' + strengthLevel() | translate }}</span>
    </div>

    <div class="segments">
      @for (segment of [1, 2, 3, 4]; track segment) {
        <div
          class="segment"
          [class.filled]="segment <= filledSegments()"
          [style.background-color]="segment <= filledSegments() ? strengthColor() : '#e0e0e0'"
        ></div>
      }
    </div>
  </div>

  <!-- Criteria Checklist -->
  <div class="criteria-list">
    <div class="criterion" [class.met]="hasMinLength()">
      <mat-icon class="criterion-icon">
        {{ hasMinLength() ? 'check_circle' : 'cancel' }}
      </mat-icon>
      <span class="criterion-text">
        {{ 'account.security.strength.minChars' | translate }}
      </span>
    </div>

    <div class="criterion" [class.met]="hasUppercase()">
      <mat-icon class="criterion-icon">
        {{ hasUppercase() ? 'check_circle' : 'cancel' }}
      </mat-icon>
      <span class="criterion-text">
        {{ 'account.security.strength.uppercase' | translate }}
      </span>
    </div>

    <div class="criterion" [class.met]="hasNumber()">
      <mat-icon class="criterion-icon">
        {{ hasNumber() ? 'check_circle' : 'cancel' }}
      </mat-icon>
      <span class="criterion-text">
        {{ 'account.security.strength.number' | translate }}
      </span>
    </div>

    <div class="criterion" [class.met]="hasSpecialChar()">
      <mat-icon class="criterion-icon">
        {{ hasSpecialChar() ? 'check_circle' : 'cancel' }}
      </mat-icon>
      <span class="criterion-text">
        {{ 'account.security.strength.specialChar' | translate }}
      </span>
    </div>
  </div>
</div>
