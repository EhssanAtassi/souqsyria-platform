<!-- Hero Image Slider — Premium Redesign with Ken Burns, CTA, and Error Fallback -->
<div class="hero-slider" (mouseenter)="pauseAutoplay()" (mouseleave)="resumeAutoplay()">

  <!-- Slider Track with Slides -->
  <div class="slider-track">
    @for (banner of banners(); track banner.id; let i = $index) {
      <div
        class="slider-slide"
        [class.active]="i === currentSlide()"
        [routerLink]="banner.link">

        <!-- Slide Image with Error Fallback -->
        @if (!imageErrors()[i]) {
          <img
            [src]="banner.image"
            [alt]="banner.title"
            class="slide-image"
            loading="lazy"
            (error)="onImageError(i)">
        } @else {
          <!-- Gradient fallback when image fails -->
          <div class="slide-fallback"></div>
        }

        <!-- Text Overlay with Staggered Entrance -->
        <div class="slide-content">
          <h2 class="slide-title">{{ banner.title }}</h2>
          <h3 class="slide-title-ar">{{ banner.titleAr }}</h3>
          <p class="slide-subtitle">{{ banner.subtitle }}</p>
          <button
            class="slide-cta"
            [routerLink]="banner.link"
            (click)="$event.stopPropagation()"
            type="button">
            {{ banner.ctaText || 'Shop Now' }}
            <mat-icon>arrow_forward</mat-icon>
          </button>
        </div>
      </div>
    }
  </div>

  <!-- Slide Counter (top-right) -->
  <div class="slide-counter">
    <span class="counter-current">{{ currentSlide() + 1 }}</span>
    <span class="counter-separator">/</span>
    <span class="counter-total">{{ totalSlides() }}</span>
  </div>

  <!-- Navigation Arrows — Glassmorphism -->
  <button
    mat-icon-button
    class="slider-arrow slider-arrow-left"
    (click)="previousSlide(); $event.stopPropagation()"
    aria-label="Previous slide"
    type="button">
    <mat-icon>chevron_left</mat-icon>
  </button>

  <button
    mat-icon-button
    class="slider-arrow slider-arrow-right"
    (click)="nextSlide(); $event.stopPropagation()"
    aria-label="Next slide"
    type="button">
    <mat-icon>chevron_right</mat-icon>
  </button>

  <!-- Dot Indicators — Pill morph with golden glow -->
  <div class="slider-dots">
    @for (banner of banners(); track banner.id; let i = $index) {
      <button
        class="dot"
        [class.active]="i === currentSlide()"
        (click)="goToSlide(i); $event.stopPropagation()"
        [attr.aria-label]="'Go to slide ' + (i + 1)"
        type="button">
      </button>
    }
  </div>

  <!-- Progress Bar with Glow -->
  <div class="slider-progress">
    <div
      class="progress-bar"
      [style.width.%]="slideProgress()">
    </div>
  </div>
</div>
