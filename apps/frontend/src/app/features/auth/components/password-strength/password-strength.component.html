<!-- Password Strength Indicator -->
@if (isVisible()) {
  <div class="password-strength" role="status" [attr.aria-label]="strengthLabel() | translate">

    <!-- Strength bar -->
    <div class="strength-bar-track">
      <div
        class="strength-bar-fill"
        [class]="strengthClass()"
        [style.width.%]="barWidth()"
      ></div>
    </div>

    <!-- Strength label -->
    <span class="strength-label" [class]="strengthClass()">
      {{ strengthLabel() | translate }}
    </span>

    <!-- Requirements checklist -->
    <ul class="strength-requirements">
      <li [class.met]="hasMinLength()">
        <mat-icon class="requirement-icon" aria-hidden="true">
          {{ hasMinLength() ? 'check_circle' : 'radio_button_unchecked' }}
        </mat-icon>
        {{ 'auth.passwordStrength.minLength' | translate }}
      </li>
      <li [class.met]="hasUppercase()">
        <mat-icon class="requirement-icon" aria-hidden="true">
          {{ hasUppercase() ? 'check_circle' : 'radio_button_unchecked' }}
        </mat-icon>
        {{ 'auth.passwordStrength.uppercase' | translate }}
      </li>
      <li [class.met]="hasNumber()">
        <mat-icon class="requirement-icon" aria-hidden="true">
          {{ hasNumber() ? 'check_circle' : 'radio_button_unchecked' }}
        </mat-icon>
        {{ 'auth.passwordStrength.number' | translate }}
      </li>
      <li [class.met]="hasSpecialChar()">
        <mat-icon class="requirement-icon" aria-hidden="true">
          {{ hasSpecialChar() ? 'check_circle' : 'radio_button_unchecked' }}
        </mat-icon>
        {{ 'auth.passwordStrength.specialChar' | translate }}
      </li>
    </ul>
  </div>
}
