/**
 * Login Component Styles for SouqSyria marketplace
 *
 * @description Component-specific SCSS styles for the user login form.
 * Imports shared auth styles and adds login-specific styles for form options.
 *
 * @architecture
 * RTL Strategy: Uses CSS logical properties and flexbox auto-reversal
 * instead of explicit `:host-context([dir="rtl"])` overrides.
 * - `margin-block-end` replaces `margin-bottom` for direction-agnostic spacing
 * - Flexbox automatically reverses in RTL mode (space-between flips)
 * - On mobile column stacking: `align-items` switches from `flex-start`
 *   to `flex-end` in RTL so stacked items align to the right edge
 *
 * @swagger
 * components:
 *   schemas:
 *     LoginComponentStyles:
 *       type: object
 *       description: SCSS styling for the login auth form (component-specific)
 */

// Import shared auth styles
@import '../../styles/auth-shared';

// =============================================================================
// Login-Specific Styles
// =============================================================================

/**
 * Smooth fade-slide animation for error and success messages
 * @description Provides visual feedback when messages appear dynamically
 */
@keyframes fadeSlideIn {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/**
 * Error and success message styling with animation
 */
.error-message,
.success-message {
  animation: fadeSlideIn 0.3s ease-out;
}

/**
 * Form options row: "Remember me" checkbox and "Forgot password" link.
 * Mobile-first: stacks vertically on small screens, horizontal on larger.
 *
 * @description
 * Uses `margin-block-end` (logical property) instead of `margin-bottom`.
 * Flexbox automatically handles RTL reversal -- in RTL mode, the checkbox
 * appears on the right and the forgot-password link appears on the left,
 * because `justify-content: space-between` respects the flex container's
 * direction, which is inherited from the parent `[dir="rtl"]`.
 */
.form-options {
  display: flex;
  align-items: center;
  margin-block-end: $spacing-2;  // 0.5rem (8px) - logical property

  // Mobile base (< 375px): stack vertically, center items
  flex-direction: column;
  justify-content: center;
  gap: $spacing-3;  // 0.75rem (12px)

  @media (min-width: $breakpoint-xs) {
    // Modern mobile (375px+): horizontal layout, space between
    flex-direction: row;
    justify-content: space-between;
    gap: $spacing-2;  // 0.5rem (8px)
  }

  /**
   * Mobile column stacking alignment.
   * In LTR: stacked items align to the left (flex-start).
   * In RTL: stacked items align to the right (flex-end) so they
   * visually anchor to the correct side for Arabic readers.
   */
  @media (max-width: #{$breakpoint-xs - 1}) {
    align-items: flex-start;

    [dir="rtl"] & {
      align-items: flex-end;
    }
  }

  mat-checkbox {
    // Touch-friendly target
    min-height: $spacing-11;  // 2.75rem (44px)
    display: flex;
    align-items: center;

    ::ng-deep .mdc-label {
      font-size: 0.875rem;  // 14px
      color: $color-text-secondary;
    }
  }

  a {
    color: $color-primary;
    text-decoration: none;
    font-size: 0.875rem;  // 14px
    font-weight: 500;
    min-height: $spacing-11;  // 2.75rem (44px) - touch target
    display: flex;
    align-items: center;
    transition: color 0.2s ease, text-decoration 0.2s ease;

    &:hover {
      color: var(--golden-wheat-medium);  // Darker golden wheat for hover
      text-decoration: underline;
    }

    &:active {
      color: var(--forest-dark);  // Forest dark for active state
    }

    &:focus-visible {
      outline: 2px solid $color-primary;
      outline-offset: 2px;
      border-radius: 2px;
    }
  }
}

// =============================================================================
// S2 Auth Enhancements: Warning, Lockout, and Remember-Me styles
// =============================================================================

/**
 * Warning message for low remaining login attempts
 * @description Shown when user has <= 2 attempts before account lockout
 */
.warning-message {
  color: #e65100;
  font-size: 13px;
  text-align: center;
  margin-bottom: 16px;
  padding: 10px 14px;
  background: #fff3e0;
  border-radius: 4px;
  border-inline-start: 4px solid #ff9800;
  animation: fadeSlideIn 0.3s ease-out;
}

/**
 * Lockout message with countdown timer
 * @description Shown when account is locked after too many failed attempts
 */
.lockout-message {
  color: #c62828;
  font-size: 13px;
  text-align: center;
  margin-bottom: 16px;
  padding: 12px 14px;
  background: #ffebee;
  border-radius: 4px;
  border-inline-start: 4px solid #f44336;
  animation: fadeSlideIn 0.3s ease-out;

  strong {
    display: block;
    margin-bottom: 4px;
    font-size: 14px;
  }

  p {
    margin: 0;
  }
}

/**
 * Remember-me hint text below checkbox
 */
.remember-me-hint {
  display: block;
  font-size: 11px;
  color: #999;
  margin-top: -4px;
}
